<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Externally Excited Synchronous Motor Operation Point Selection &mdash; gem-control 2021 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Squirrel Cage Induction Motor Operation Point Selection" href="scim_ops.html" />
    <link rel="prev" title="Permanent Magnet Synchronous Motor Operation Point Selection" href="pmsm_ops.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> gem-control
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../read_me.html">Readme File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage_guide/usage_guides.html">Usage Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../gem_control.html">GEM Control API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../stages.html">Stages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../base_controllers/base_controller.html">Base Controllers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="operation_point_selection.html">Operation Point Selection</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="permex_dc_ops.html">Permanently Excited DC Motor Operation Point Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="extex_dc_ops.html">Externally Excited DC Motor Operation Point Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="series_dc_ops.html">Series DC Motor Operation Point Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="shunt_dc_ops.html">Shunt DC Motor Operation Point Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="foc_ops.html">Field Oriented Controller Operation Point Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="pmsm_ops.html">Permanent Magnet Synchronous Motor Operation Point Selection</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Externally Excited Synchronous Motor Operation Point Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="scim_ops.html">Squirrel Cage Induction Motor Operation Point Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation_point_selection.html#id1">Operation Point Selection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../clipping_stages/clipping_stage.html">Clipping Stages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../abc_transformation.html">ABC Transformation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../anti_windup.html">Anti Windup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../emf_feedforward/emf_feedforward.html">EMF Feedforward</a></li>
<li class="toctree-l3"><a class="reference internal" href="../input_stage.html">Input Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cont_output_stage.html">Continuous Output Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../disc_output_stage.html">Discrete Output Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stages.html#stage">Stage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../block_diagrams/block_diagrams.html">Block Diagrams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pi_current_controller.html">PI Current Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../torque_controller.html">Torque Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pi_speed_controller.html">PI Speed Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gem_adapter.html">GEM Adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference_plotter.html">Reference Plotter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gem_control.html#gem-controllers">GEM Controllers</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">gem-control</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../gem_control.html">GEM Control API Documentation</a> &raquo;</li>
          <li><a href="../stages.html">Stages</a> &raquo;</li>
          <li><a href="operation_point_selection.html">Operation Point Selection</a> &raquo;</li>
      <li>Externally Excited Synchronous Motor Operation Point Selection</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/parts/api_documentation/stages/operation_point_selection/eesm_ops.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="externally-excited-synchronous-motor-operation-point-selection">
<h1>Externally Excited Synchronous Motor Operation Point Selection<a class="headerlink" href="#externally-excited-synchronous-motor-operation-point-selection" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem_controllers.stages.operation_point_selection.eesm_ops.</span></span><span class="sig-name descname"><span class="pre">EESMOperationPointSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_modulation_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.1547005383792517</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modulation_damping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection" title="Permalink to this definition"></a></dt>
<dd><p>This class represents the operation point selection of the torque controller for cascaded control of an
externally synchronous motor. The operating point is selected in the analog to that of the PMSM and SynRM, but
the excitation current is also included in the optimization of the operating point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_modulation_level</strong> (<em>float</em>) – Maximum value for the modulation controller.</p></li>
<li><p><strong>modulation_damping</strong> (<em>float</em>) – Damping of the gain of the modulation controller.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._calculate_luts">
<span class="sig-name descname"><span class="pre">_calculate_luts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection._calculate_luts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._calculate_luts" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the lookup tables for the maximum torque and the optimal currents for a given torque reference.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._get_psi_idx">
<span class="sig-name descname"><span class="pre">_get_psi_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection._get_psi_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._get_psi_idx" title="Permalink to this definition"></a></dt>
<dd><p>Get the index of the lookup tables for a given flux.
:param psi: optimal magnetic flux.
:type psi: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>index of the lookup tables of the currents</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>index(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._get_t_idx">
<span class="sig-name descname"><span class="pre">_get_t_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">torque</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection._get_t_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._get_t_idx" title="Permalink to this definition"></a></dt>
<dd><p>Get the index of the lookup tables for a given torque.
:param torque: The clipped torque reference value.
:type torque: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>index of the lookup tables of the currents</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>index(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._select_operating_point">
<span class="sig-name descname"><span class="pre">_select_operating_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection._select_operating_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection._select_operating_point" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the current operation point for a given torque reference value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>np.ndarray</em>) – The state of the environment.</p></li>
<li><p><strong>reference</strong> (<em>np.ndarray</em>) – The reference of the state.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>references for the current control stage</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>current_reference(np.ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the EESM operation point selection</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection.solve_analytical">
<span class="sig-name descname"><span class="pre">solve_analytical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">torque</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_e</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection.solve_analytical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection.solve_analytical" title="Permalink to this definition"></a></dt>
<dd><p>Assuming linear magnetization characteristics, the optimal currents for given reference, flux and exitation
current can be obtained by solving the reference and flux equations. These lead to a fourth degree polynomial
which can be solved analytically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>torque</strong> (<em>float</em>) – The torque reference value.</p></li>
<li><p><strong>psi</strong> (<em>float</em>) – The optimal flux value.</p></li>
<li><p><strong>i_e</strong> (<em>float</em>) – The excitation current.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>optimal i_sd current
i_q(flaot): optimal i_sq current</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>i_d(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection.tune">
<span class="sig-name descname"><span class="pre">tune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_safety_margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gem_controllers/stages/operation_point_selection/eesm_ops.html#EESMOperationPointSelection.tune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem_controllers.stages.operation_point_selection.eesm_ops.EESMOperationPointSelection.tune" title="Permalink to this definition"></a></dt>
<dd><p>Tune the operation point selcetion stage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> (<em>gym_electric_motor.ElectricMotorEnvironment</em>) – The environment to be controlled.</p></li>
<li><p><strong>env_id</strong> (<em>str</em>) – The id of the environment.</p></li>
<li><p><strong>current_safety_margin</strong> (<em>float</em>) – Percentage of the current margin to the current limit.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pmsm_ops.html" class="btn btn-neutral float-left" title="Permanent Magnet Synchronous Motor Operation Point Selection" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scim_ops.html" class="btn btn-neutral float-right" title="Squirrel Cage Induction Motor Operation Point Selection" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Felix Book,  Barnabas Haucke-Korber, Maximilian Schenke, Arne Traue, Oliver Wallscheid.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>